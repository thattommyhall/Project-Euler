(ns e55
  (:require clojure.string))

(defn reverse-string [somestring]
  (clojure.string/reverse somestring))

(defn palendrome? [somestring]
  (= somestring
     (reverse-string somestring)))
  
(defn is-lychrel?
  ([n] (is-lychrel? n 0))
  ([n depth]
     (let [numstring (str n)]
       (cond (and (> depth 1)
		  (palendrome? numstring))
	     true
	     ;
	     (> depth 50)
	     false
	     ;
	     :else (recur (Integer.
			   (clojure.string/join
			    numstring
			    (reverse-string numstring)))
			  (inc depth))))))
		    
(println (is-lychrel? 196))
		    